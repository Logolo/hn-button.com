@import compass


/**
 * Variables.
 */

$height: 20px // standard
$font-size: 10px
$padding: 3px
$icon-size: 12px
$background-color: rgb(246, 246, 239) // from hn
$border-color: darken($background-color, 20%)
$border-radius: 3px
$arrow-width: 4px
$darker: 7%


/**
 * Computed variables.
 */

$subtly-darker: $darker * .4
$line-height: $height * .9 // visually centered


/**
 * Reset.
 */

*
  margin: 0
  padding: 0
  +box-sizing(border-box)
  font: $font-size/1 Verdana // hn-like

body,
html
  overflow: hidden // never scrollbars


/**
 * Shared.
 */

.hn-button,
.hn-button-count
  cursor: pointer
  padding: 0 $padding
  height: $height
  line-height: $line-height
  color: #333
  border: 1px solid $border-color

  &:hover
    border-color: darken($border-color, $darker)


/**
 * Button.
 *
 * a.hn-button
 *   [span.hn-button-count]
 */

.hn-button
  text-decoration: none // reset
  position: relative
  display: inline-block
  padding-left: $padding * 2 + $icon-size // account for the icon
  font-weight: 600
  background-color: $background-color

  &:hover
    background-color: darken($background-color, $subtly-darker)


/**
 * Icon.
 */

.hn-button-icon
  position: absolute
  $icon-margin: ($height - $icon-size) / 2 - 1px
  top: $icon-margin
  left: $icon-margin
  width: $icon-size
  height: $icon-size
  margin-right: $padding
  background-color: #ff6600
  background-repeat: no-repeat
  background-size: 100% 100%
  // http://websemantics.co.uk/online_tools/image_to_data_uri_convertor/
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACdQTFRF+MOg/OHQ8o5N85VZ/fDn+tK4/vfz9rOI9aRx9J1l+9nE////8YZB9Tb0MAAAAJ1JREFUeNrsldsOgCAIQPFCWvb/31vCKttMcL3Cg4Ots5OCE/bpAEMM+YGsrka461xLHFtcOQPeZRojuX6z+LaK0l5eGiqyhIRGs9bcySeGjwZ7kg4S7v+nbNP0Ba9ToiRoEL+whiSo6z6w5kPSRUjjaAXtjJEG2p6KiI+FA/STnJiIfmL4WZNm7kvqzaNwxT53Yogh9r4Yoo5DgAEAOV1xvPdlew0AAAAASUVORK5CYII=)



/**
 * Count.
 */

.hn-button-count
  position: absolute
  top: -1px
  left: 100%
  margin-left: $arrow-width + 2px
  background-color: white
  font-weight: normal

  &:hover
    &::before
      border-right-color: darken($border-color, $darker * 2)

  // arrow
  &::before,
  &::after
    content: ''
    position: absolute
    top: 50%
    right: 100%
    width: 0
    height: 0
    border: $arrow-width solid transparent
    border-left: none
  &::before
    margin-top: -($arrow-width)
    border-right-color: darken($border-color, $darker)
  &::after
    margin-top: -($arrow-width - 1px)
    border-width: $arrow-width - 1px
    border-right-color: white


/**
 * Twitter style.
 */

$twitter-background-color: #dedede
$twitter-border-color: #ccc
$twitter-count-border-color: rgb(187, 187, 187)
$twitter-count-arrow-border-color: #aaa

[data-style="twitter"]

  &.hn-button,
  & .hn-button-count
    +border-radius($border-radius)
    border-color: $twitter-border-color
    &:hover
      border-color: darken($twitter-border-color, $darker)

  &.hn-button
    +background(linear-gradient(white, $twitter-background-color))
    text-shadow: 0 1px 0 rgba(white, .5)
    &:hover
      +background(linear-gradient(darken(white, $subtly-darker), darken($twitter-background-color, $subtly-darker)))
    &:active
      +box-shadow(inset 0 3px 5px rgba(black, .01))

  & .hn-button-count
    border-color: $twitter-count-border-color
    &::before
      border-right-color: $twitter-count-arrow-border-color


/**
 * Facebook style.
 */

$facebook-color: #c65910
$facebook-background-color: #ffeee3
$facebook-border-color: darken($facebook-background-color, 10%)
$facebook-padding: $padding * 1.7
$facebook-count-border-color: #c1c1c1

[data-style="facebook"]

  &.hn-button
    font-weight: normal
    color: $facebook-color
    background-color: $facebook-background-color
    border-color: $facebook-border-color
    +border-radius($border-radius)
    &:hover
      border-color: darken($facebook-border-color, $darker)

  & .hn-button-count
    +border-radius(0)
    top: 0
    padding-left: $facebook-padding
    padding-right: $facebook-padding
    height: $height - 2px
    line-height: $line-height - 2px // account for smaller height
    border-color: $facebook-count-border-color
    &::before
      border-right-color: $facebook-count-border-color
