@import compass


/**
 * Variables.
 */

$arrow-size       : 4px
$background-color : rgb(246, 246, 239) // from hn
$border-color     : desaturate(darken($background-color, 20%), 10%)
$border-radius    : 3px // standard
$font-size        : 10px // 11px is standard, but verdana looks large
$height           : 20px // standard
$icon-size        : 12px
$line-height      : $height * .9 // visually centered
$padding          : 3px


/**
 * Reset.
 */

*
  margin: 0
  padding: 0
  +box-sizing(border-box)
  font: $font-size/1 Verdana // hn-like

body,
html
  overflow: hidden // never scrollbars


/**
 * Widget.
 */

.hn-widget
  position: relative


/**
 * Button and count.
 */

.hn-button,
.hn-count
  height: $height
  line-height: $line-height
  border: 1px solid $border-color
  padding: 0 $padding
  color: #333

  &:hover
    border-color: darken($border-color, 7%)


/**
 * Button.
 */

$icon-margin  : ($height - $icon-size) / 2 - 1px
$icon-padding : $padding * 2 + $icon-size

.hn-button
  cursor: pointer
  text-decoration: none // reset
  position: relative
  display: inline-block
  padding-left: $icon-padding // account for the icon
  font-weight: 600
  background-color: $background-color

  &:hover
    background-color: darken($background-color, 3%)

  // icon
  &::before
    content: ''
    position: absolute
    top: $icon-margin
    left: $icon-margin
    width: $icon-size
    height: $icon-size
    background-color: #ff6600
    background-repeat: no-repeat
    background-size: 100% 100%
    // http://dopiaza.org/tools/datauri/index.php
    background-image: url(data:image/png;base64,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)
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IGZpbGw9IiNGMjY3MjIiIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIi8+DQo8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDExOS42MjExIDMxMS4yMzI0KSIgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9IidNZXRhUHJvLU1lZGl1bSciIGZvbnQtc2l6ZT0iMzA5LjI5NTciPlk8L3RleHQ+DQo8L3N2Zz4NCg==)


/**
 * Count.
 */

.hn-count
  position: relative
  background-color: white

  // arrow
  &::before,
  &::after
    content: ''
    position: absolute
    width: 0
    height: 0
    border: $arrow-size solid transparent


/**
 * Horizontal count.
 *
 * a.hn-button
 *   span.hn-count
 */

[data-count="horizontal"]

  .hn-widget
    display: inline-block

  .hn-count
    position: absolute
    left: 100%
    margin-left: $arrow-size + 2px

    &::before,
    &::after
      right: 100%
      top: 50%
      border-left: none
    &::before
      margin-top: -($arrow-size)
      border-right-color: darken($border-color, 7%)
      &:hover
        border-right-color: darken($border-color, 14%)
    &::after
      margin-top: -($arrow-size - 1px)
      border-width: $arrow-size - 1px
      border-right-color: white



/**
 * Vertical count.
 *
 * div.hn-count
 * a.hn-button
 */

[data-count="vertical"]

  .hn-count
    height: 36px
    line-height: 34px
    text-align: center
    font-size: 15px
    margin-bottom: 6px

    &::before,
    &::after
      top: 100%
      left: $padding + $icon-size / 2
      border-bottom: none
    &::before
      margin-left: -($arrow-size)
      border-top-color: darken($border-color, 7%)
      &:hover
        border-top-color: darken($border-color, 14%)
    &::after
      margin-left: -($arrow-size - 1px)
      border-width: $arrow-size - 1px
      border-top-color: white


/**
 * Twitter style.
 */

$tw-background-color    : #dedede
$tw-button-border-color : #ccc
$tw-count-border-color  : #aaa

[data-style="twitter"]

  .hn-button,
  .hn-count
    font-family: "Helvetica Neue", Arial, sans-serif
    +border-radius($border-radius)
    border-color: $tw-button-border-color
    &:hover
      border-color: darken($tw-button-border-color, 7%)

  .hn-button
    font-size: 11px
    +background(linear-gradient(white, $tw-background-color))
    text-shadow: 0 1px 0 rgba(white, .5)
    &:hover
      +background(linear-gradient(darken(white, 3%), darken($tw-background-color, 3%)))
    &:active
      +box-shadow(inset 0 3px 5px rgba(black, .1))
    &::before
      +box-shadow(inset 1px 1px rgba(black, .1), 1px 1px rgba(white, .35))

  .hn-count
    border-color: rgb(187, 187, 187)

  &[data-count="horizontal"]
    .hn-count
      font-size: 11px
      &::before
        border-right-color: $tw-count-border-color

  &[data-count="vertical"]
    .hn-count
      font-size: 16px
      &::before,
      &::after
        left: 50%
      &::before
        border-top-color: $tw-count-border-color


/**
 * Facebook style.
 */

$fb-background-color              : #ffeee3
$fb-button-border-color           : darken($fb-background-color, 10%)
$fb-horizontal-count-border-color : #c1c1c1
$fb-vertical-count-border-color   : #d3d3d3
$fb-extra-button-padding          : 2px
$fb-extra-count-height            : -2px
$fb-extra-count-padding           : 3px

[data-style="facebook"]

  .hn-button,
  .hn-count
    font-family: "lucida grande", tahoma, verdana, arial, sans-serif

  .hn-button
    font-size: 11px
    padding-left: $icon-padding + $fb-extra-button-padding
    padding-right: $padding + $fb-extra-button-padding
    font-weight: normal
    color: #c65910
    background-color: $fb-background-color
    border-color: $fb-button-border-color
    +border-radius($border-radius)
    &:hover
      border-color: darken($fb-button-border-color, 12%)
    &::before
      left: $icon-margin + $fb-extra-button-padding

  .hn-count
    +border-radius(0)
    top: 1px

  &[data-count="horizontal"]
    .hn-count
      height: $height + $fb-extra-count-height
      line-height: $line-height + $fb-extra-count-height
      padding-left: $padding + $fb-extra-count-padding
      padding-right: $padding + $fb-extra-count-padding
      border-color: $fb-horizontal-count-border-color
      &::before
        border-right-color: $fb-horizontal-count-border-color

  &[data-count="vertical"]
    .hn-count
      height: 34px
      line-height: 31px
      font-size: 13px
      margin-bottom: 8px
      border-color: $fb-vertical-count-border-color
      &::before,
      &::after
        left: $padding + $icon-size / 2 + $fb-extra-button-padding
      &::before
        border-top-color: $fb-vertical-count-border-color
